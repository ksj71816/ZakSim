<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="zaksim.dao.ChallengeDao">
  
  	<select id="selectSeq" resultType="int">
  		
  		select challenge_seq.nextval from dual
  	
  	</select>
  
  	<insert id="insertChallenge" parameterType="zaksim.dto.Challenge">
  	
  		INSERT INTO Challenge (idx, member_idx, apply_date, start_date, end_date, money, title, status, result) 
  		VALUES (#{idx}, #{memberIdx},  to_date('sysdate','YYYY-MM-DD'), to_date('#{startDate}','YYYY-MM-DD'), to_date('#{endDate}'), #{money}, '#{title}', '#{status}', 'null');
  	
  	</insert>
  
  
  </mapper>